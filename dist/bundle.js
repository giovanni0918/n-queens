"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),Coordinate=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,n),this._x=t,this._y=e}return _createClass(n,[{key:"x",get:function(){return this._x},set:function(n){this._x=n}},{key:"y",get:function(){return this._y},set:function(n){this._y=n}}]),n}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_createClass=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),NQueens=function(){function n(){_classCallCheck(this,n),this._positions=[],this.oneSolution=this.oneSolution.bind(this),this.oneSolutionUtil=this.oneSolutionUtil.bind(this),this.allSolutions=this.allSolutions.bind(this),this.allSolutionsUtil=this.allSolutionsUtil.bind(this)}return _createClass(n,[{key:"oneSolution",value:function(n){this.oneSolutionUtil(n,0,this._positions);return this._positions}},{key:"oneSolutionUtil",value:function(n,t,e){if(n===t)return!0;for(var i=0;i<n;i++){for(var o=!0,r=0;r<t;r++)if(e[r].y===i||e[r].x-e[r].y===t-i||e[r].x+e[r].y===t+i){o=!1;break}if(o&&(e[t]=new Coordinate(t,i),this.oneSolutionUtil(n,t+1,e)))return!0}return!1}},{key:"allSolutions",value:function(n){var t=[];return this.allSolutionsUtil(0,this._positions,t,n),t}},{key:"allSolutionsUtil",value:function(n,t,e,i){if(i===n){var o=function(){var n=[],o=[];return t.map(function(t,e){for(var r=0;r<i;r++)t.y===r?n.push("ðŸ‘‘ "):n.push(r%2?"â¬œ ":"â¬› ");o.push(n.join("")),n=[]}),e.push(o),{v:void 0}}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}for(var r=0;r<i;r++){for(var s=!0,l=0;l<n;l++)if(t[l].y===r||t[l].y-t[l].x===r-n||t[l].y+t[l].x===r+n){s=!1;break}s&&(t[n]=new Coordinate(n,r),this.allSolutionsUtil(n+1,t,e,i))}}},{key:"positions",get:function(){return this._positions},set:function(n){this._positions=n}}]),n}(),_createClass=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),Board=function(){function n(t,e){_classCallCheck(this,n),this.container=document.querySelector(".n-queens__wrapper"),this._size=t,this._coords=e,this.paint=this.paint.bind(this)}return _createClass(n,[{key:"paint",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.container.innerHTML="",1===t)for(var e=0,i="";e<this._size;e++,i=""){for(var o=0;o<this._size;o++)i+=e%2?this._coords[e].x===e&&this._coords[e].y===o?"ðŸ‘‘ ":o%2?"â¬œ ":"â¬› ":this._coords[e].x===e&&this._coords[e].y===o?"ðŸ‘‘ ":o%2?"â¬› ":"â¬œ ";this.container.innerHTML+='<p class="no-margin">'+i+"</p>"}else console.log(this._coords),this._coords.map(function(t){t.map(function(t){n.container.innerHTML+='<p class="no-margin">'+t+"</p>"}),n.container.innerHTML+="<br>"})}},{key:"size",get:function(){return this._size},set:function(n){this._size=n}},{key:"coords",get:function(){return this._coords},set:function(n){this._coords=n}}]),n}();!function(n,t){var e=t.querySelector("form"),i=t.querySelector("input"),o=t.querySelector("input[type=checkbox]"),r=t.querySelector(".n-queens__wrapper"),s=t.querySelector(".modal"),l=t.querySelector(".btn-close"),u=t.querySelector(".time");l.onclick=function(){return s.style.visibility="hidden"},n.onclick=function(n){n.target==s&&(s.style.visibility="hidden")};var a=function(t){t.preventDefault();var e=Number(i.value);if(e>8&&o.checked)return void(s.style.visibility="visible");if(2===e||3===e)return void(s.style.visibility="visible");r.innerHTML="<p>processing</p>";var l=new NQueens,a=n.performance.now();if(o.checked){var c=l.allSolutions(e),f=new Board(e,c);f.paint(e)}else{var h=l.oneSolution(e),y=new Board(e,h);y.paint()}var p=n.performance.now(),v=p-a;u.innerHTML=v+" ms"};e.addEventListener("submit",a)}(window,document);