"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),Coordinate=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,n),this._x=t,this._y=e}return _createClass(n,[{key:"x",get:function(){return this._x},set:function(n){this._x=n}},{key:"y",get:function(){return this._y},set:function(n){this._y=n}}]),n}(),_createClass=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),NQueens=function(){function n(){_classCallCheck(this,n),this._positions=[],this.oneSolution=this.oneSolution.bind(this),this.oneSolutionUtil=this.oneSolutionUtil.bind(this),this.allSolutions=this.allSolutions.bind(this),this.allSolutionsUtil=this.allSolutionsUtil.bind(this)}return _createClass(n,[{key:"oneSolution",value:function(n){this.oneSolutionUtil(n,0,this._positions);return this._positions}},{key:"oneSolutionUtil",value:function(n,t,e){if(n===t)return!0;for(var i=0;i<n;i++){for(var o=!0,r=0;r<t;r++)if(e[r].y===i||e[r].x-e[r].y===t-i||e[r].x+e[r].y===t+i){o=!1;break}if(o&&(e[t]=new Coordinate(t,i),this.oneSolutionUtil(n,t+1,e)))return!0}return!1}},{key:"allSolutions",value:function(n){var t=[];return this.allSolutionsUtil(0,this._positions,t,n),t}},{key:"allSolutionsUtil",value:function(n,t,e,i){var o=this;i===n&&!function(){var r=[],s=[];t.forEach(function(n){for(var t=0;t<i;t++)n.y===t?r.push("Q"):r.push("."),s.push(r.join(" ")),r=[];e.push(s)});for(var l=0;l<i;l++){for(var a=!0,u=0;u<n;u++)if(t[u].y===l||t[u].y-t[u].x===l-n||t[u].y+t[u].x===l+n){a=!1;break}a&&(t[n]=new Coordinate(n,l),o.allSolutionsUtil(n+1,t,e,i))}}()}},{key:"positions",get:function(){return this._positions},set:function(n){this._positions=n}}]),n}(),_createClass=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),Board=function(){function n(t,e){_classCallCheck(this,n),this.container=document.querySelector(".n-queens__wrapper"),this._size=t,this._coords=e,this.paint=this.paint.bind(this)}return _createClass(n,[{key:"paint",value:function(){this.container.innerHTML="";for(var n=0,t="";n<this._size;n++,t=""){for(var e=0;e<this._size;e++)t+=this._coords[n].x===n&&this._coords[n].y===e?"Q ":"_ ";this.container.innerHTML+="<p>"+t+"</p>"}}},{key:"size",get:function(){return this._size},set:function(n){this._size=n}},{key:"coords",get:function(){return this._coords},set:function(n){this._coords=n}}]),n}();!function(n,t){var e=t.querySelector("form"),i=t.querySelector("input"),o=t.querySelector(".n-queens__wrapper"),r=t.querySelector(".modal"),s=t.querySelector(".btn-close"),l=t.querySelector(".time");s.onclick=function(){return r.style.visibility="hidden"},n.onclick=function(n){n.target==r&&(r.style.visibility="hidden")};var a=function(t){t.preventDefault();var e=Number(i.value);if(2===e||3===e)return void(r.style.visibility="visible");o.innerHTML="<p>processing</p>";var s=new NQueens,a=n.performance.now(),u=s.oneSolution(e),c=new Board(e,u);c.paint();var f=n.performance.now(),h=f-a;l.innerHTML=h+" ms"};e.addEventListener("submit",a)}(window,document);