"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),Coordinate=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._x=n,this._y=e}return _createClass(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}}]),t}(),_createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),NQueens=function(){function t(){_classCallCheck(this,t),this._positions=[],this.oneSolution=this.oneSolution.bind(this),this.oneSolutionUtil=this.oneSolutionUtil.bind(this),this.allSolutions=this.allSolutions.bind(this),this.allSolutionsUtil=this.allSolutionsUtil.bind(this)}return _createClass(t,[{key:"oneSolution",value:function(t){this.oneSolutionUtil(t,0,this._positions);return this._positions}},{key:"oneSolutionUtil",value:function(t,n,e){if(t===n)return!0;for(var i=0;i<t;i++){for(var o=!0,r=0;r<n;r++)if(e[r].y===i||e[r].x-e[r].y===n-i||e[r].x+e[r].y===n+i){o=!1;break}if(o&&(e[n]=new Coordinate(n,i),this.oneSolutionUtil(t,n+1,e)))return!0}return!1}},{key:"allSolutions",value:function(t){var n=[];return this.allSolutionsUtil(0,this._positions,n,t),n}},{key:"allSolutionsUtil",value:function(t,n,e,i){var o=this;i===t&&!function(){var r=[],s=[];n.forEach(function(t){for(var n=0;n<i;n++)t.y===n?r.push("Q"):r.push("."),s.push(r.join(" ")),r=[];e.push(s)});for(var l=0;l<i;l++){for(var a=!0,u=0;u<t;u++)if(n[u].y===l||n[u].y-n[u].x===l-t||n[u].y+n[u].x===l+t){a=!1;break}a&&(n[t]=new Coordinate(t,l),o.allSolutionsUtil(t+1,n,e,i))}}()}},{key:"positions",get:function(){return this._positions},set:function(t){this._positions=t}}]),t}(),_createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),Board=function(){function t(n,e){_classCallCheck(this,t),this.container=document.querySelector(".n-queens__wrapper"),this._size=n,this._coords=e,this.paint=this.paint.bind(this)}return _createClass(t,[{key:"paint",value:function(){this.container.innerHTML="";for(var t=0,n="";t<this._size;t++,n=""){for(var e=0;e<this._size;e++)n+=t%2?this._coords[t].x===t&&this._coords[t].y===e?"ðŸ‘‘ ":e%2?"â¬œ ":"â¬› ":this._coords[t].x===t&&this._coords[t].y===e?"ðŸ‘‘ ":e%2?"â¬› ":"â¬œ ";this.container.innerHTML+="<p>"+n+"</p>"}}},{key:"size",get:function(){return this._size},set:function(t){this._size=t}},{key:"coords",get:function(){return this._coords},set:function(t){this._coords=t}}]),t}();!function(t,n){var e=n.querySelector("form"),i=n.querySelector("input"),o=n.querySelector(".n-queens__wrapper"),r=n.querySelector(".modal"),s=n.querySelector(".btn-close"),l=n.querySelector(".time");s.onclick=function(){return r.style.visibility="hidden"},t.onclick=function(t){t.target==r&&(r.style.visibility="hidden")};var a=function(n){n.preventDefault();var e=Number(i.value);if(2===e||3===e)return void(r.style.visibility="visible");o.innerHTML="<p>processing</p>";var s=new NQueens,a=t.performance.now(),u=s.oneSolution(e),c=new Board(e,u);c.paint();var f=t.performance.now(),h=f-a;l.innerHTML=h+" ms"};e.addEventListener("submit",a)}(window,document);